<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>pyside2 快速入门 | 梦飞翔的小站</title>
    <meta name="description" content="A VitePress site">
    <link rel="stylesheet" href="/assets/style.90649a90.css">
    <link rel="modulepreload" href="/assets/app.f415e47c.js">
    <link rel="modulepreload" href="/assets/posts_pyside2-quick-start.md.33fc1401.lean.js">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/regular.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC">
  <script src="https://cdn.jsdelivr.net/npm/@waline/client@1.5.4/dist/Waline.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance"),a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><!--[--><header><span class="brand"></span><span class="container"><span class="nav"></span><span class="menu"><ul><!--[--><li><a href="/"><span><i class="fa fa-home"></i> 首页</span></a></li><li><a href="/tags/"><span><i class="fa fa-tag"></i> 标签</span></a></li><li><a href="/readme.html"><span><i class="fa fa-leaf"></i> 关于</span></a></li><!--]--></ul></span></span><span><span class="search"><i class="fa fa-search"></i></span></span></header><aside></aside><main><a href="#" class="totop" style="top:-900px;" aria-label="to-top"></a><!--[--><div class="abanner" style="background-image: url(https://tva4.sinaimg.cn/large/0060lm7Tly1ftg6omnqa4j31hc0u010z.jpg)"><div class="titlebox"><h1 class="title">pyside2 快速入门</h1><div class="info">flaribbit · 更新于 2022-04-22 · 0 次阅读</div></div></div><div class="article"><div style="position:relative;" class="content"><div><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-hidden="true">#</a></h2><div class="language-Bash line-numbers-mode"><button class="copy"></button><span class="lang">Bash</span><pre><code><span class="line"><span style="color:#24292F;">pip install pyside2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这里是基于 qt5 的 pyside2，不过对于 qt6 的 pyside6 也适用。</p><h2 id="绘制界面草图" tabindex="-1">绘制界面草图 <a class="header-anchor" href="#绘制界面草图" aria-hidden="true">#</a></h2><p>运行 <code>pyside2-designer</code>，打开界面设计工具</p><p><img src="/assets/pyside2-quick-start_1.21507bc5.png" alt=""></p><p>这里注意一些地方：</p><ul><li>两个按钮大小是固定的，<strong>先在容器外面摆</strong>，目测好大小然后<strong>右键固定尺寸</strong></li><li><strong>从小到大创建</strong>。固定大小的组件调整好之后，<strong>先看第三行</strong>，创建水平布局，把两个按钮塞进去，再放一个水平填充</li><li>创建竖直容器，把这三行内容塞进去，会发现他们的高度是平均分的，但我们只需要二行变高</li><li>修改竖直容器的拉伸属性，默认是 <code>0,0,0</code>，这些数值表示里面<strong>元素所占的比例</strong>，例如 <code>1,2,1</code> 就是 1:2:1 的意思。这里改成 <code>0,1,0</code> 就是想要的效果。</li><li>在窗口内容器外的任意位置右键，布局里面修改窗口的布局，例如竖直布局。</li><li>此时窗口内的组件就会自动适应窗口尺寸了。</li><li>另外记得给需要绑定信号的组件设置名字。</li></ul><p>运行 <code>pyside2-uic MainWindow.ui -o MainWindow.py</code></p><h2 id="编写主程序" tabindex="-1">编写主程序 <a class="header-anchor" href="#编写主程序" aria-hidden="true">#</a></h2><div class="language-Python line-numbers-mode"><button class="copy"></button><span class="lang">Python</span><pre><code><span class="line"><span style="color:#CF222E;">from</span><span style="color:#24292F;"> PySide2.QtWidgets </span><span style="color:#CF222E;">import</span><span style="color:#24292F;"> QApplication, QMainWindow</span></span>
<span class="line"><span style="color:#CF222E;">from</span><span style="color:#24292F;"> MainWindow </span><span style="color:#CF222E;">import</span><span style="color:#24292F;"> Ui_MainWindow</span></span>
<span class="line"><span style="color:#CF222E;">import</span><span style="color:#24292F;"> sys</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">class</span><span style="color:#24292F;"> </span><span style="color:#953800;">MainWindow</span><span style="color:#24292F;">(</span><span style="color:#0550AE;">QMainWindow</span><span style="color:#24292F;">):</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">def</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">__init__</span><span style="color:#24292F;">(self):</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#0550AE;">super</span><span style="color:#24292F;">().</span><span style="color:#0550AE;">__init__</span><span style="color:#24292F;">()</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#0550AE;">self</span><span style="color:#24292F;">.ui </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> Ui_MainWindow()</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#0550AE;">self</span><span style="color:#24292F;">.ui.setupUi(</span><span style="color:#0550AE;">self</span><span style="color:#24292F;">)</span></span>
<span class="line"><span style="color:#24292F;">        </span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#6E7781;"># connect signals</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#6E7781;"># self.ui.button_ok.clicked.connect(self.foo)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">if</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">__name__</span><span style="color:#24292F;"> </span><span style="color:#CF222E;">==</span><span style="color:#24292F;"> </span><span style="color:#0A3069;">&#39;__main__&#39;</span><span style="color:#24292F;">:</span></span>
<span class="line"><span style="color:#24292F;">    app </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> QApplication(sys.argv)</span></span>
<span class="line"><span style="color:#24292F;">    mainWindow </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> MainWindow()</span></span>
<span class="line"><span style="color:#24292F;">    mainWindow.show()</span></span>
<span class="line"><span style="color:#24292F;">    sys.exit(app.exec_())</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h2 id="qt-联动-matplotlib" tabindex="-1">qt 联动 matplotlib <a class="header-anchor" href="#qt-联动-matplotlib" aria-hidden="true">#</a></h2><p>修改和对接方法：</p><ul><li>先把绘图程序改成用 <code>fig</code> 和 <code>ax</code> 的</li><li>在设计工具里面给要放图的地方预留位置，注意拉伸参数设置，这是为了最小化代码量</li><li>当然你要是能全用代码创建界面那当我上一条没说</li><li>创建画布并保存起来</li><li><code>fig = self.canvas.figure</code></li><li><code>ax = fig.subplots()</code></li><li>后面就是把绘图程序抄过来了</li><li>注意绘图不要占用太多时间，会卡主线程</li></ul><div class="language-Python line-numbers-mode"><button class="copy"></button><span class="lang">Python</span><pre><code><span class="line"><span style="color:#CF222E;">from</span><span style="color:#24292F;"> matplotlib.figure </span><span style="color:#CF222E;">import</span><span style="color:#24292F;"> Figure</span></span>
<span class="line"><span style="color:#CF222E;">from</span><span style="color:#24292F;"> matplotlib.backends.backend_qt5agg </span><span style="color:#CF222E;">import</span><span style="color:#24292F;"> FigureCanvas</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CF222E;">class</span><span style="color:#24292F;"> </span><span style="color:#953800;">MainWindow</span><span style="color:#24292F;">(</span><span style="color:#0550AE;">QMainWindow</span><span style="color:#24292F;">):</span></span>
<span class="line"><span style="color:#24292F;">    </span><span style="color:#CF222E;">def</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">__init__</span><span style="color:#24292F;">(self):</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#0550AE;">super</span><span style="color:#24292F;">().</span><span style="color:#0550AE;">__init__</span><span style="color:#24292F;">()</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#0550AE;">self</span><span style="color:#24292F;">.ui </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> Ui_MainWindow()</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#0550AE;">self</span><span style="color:#24292F;">.ui.setupUi(</span><span style="color:#0550AE;">self</span><span style="color:#24292F;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#6E7781;"># setup</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#0550AE;">self</span><span style="color:#24292F;">.canvas </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> FigureCanvas(Figure(</span><span style="color:#953800;">figsize</span><span style="color:#CF222E;">=</span><span style="color:#24292F;">(</span><span style="color:#0550AE;">6</span><span style="color:#24292F;">, </span><span style="color:#0550AE;">6</span><span style="color:#24292F;">)))</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#0550AE;">self</span><span style="color:#24292F;">.axes </span><span style="color:#CF222E;">=</span><span style="color:#24292F;"> </span><span style="color:#0550AE;">self</span><span style="color:#24292F;">.canvas.figure.subplots()</span></span>
<span class="line"><span style="color:#24292F;">        </span><span style="color:#0550AE;">self</span><span style="color:#24292F;">.ui.container.addWidget(</span><span style="color:#0550AE;">self</span><span style="color:#24292F;">.canvas)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></div></div><div class="content nav"><span><a href="/posts/call-cpp-from-python.html"><i class="fa fa-angle-left"></i> 在 python 中调用 c++</a></span><span><a href="/posts/xjb-utils.html">各种奇怪的程序备份 <i class="fa fa-angle-right"></i></a></span></div><div id="waline"></div><div class="toc"><ol><!--[--><li class="h2 active"><a href="#安装">安装</a></li><li class="h2"><a href="#绘制界面草图">绘制界面草图</a></li><li class="h2"><a href="#编写主程序">编写主程序</a></li><li class="h2"><a href="#qt-联动-matplotlib">qt 联动 matplotlib</a></li><!--]--></ol></div></div><!--]--></main><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"3f16ac98\",\"posts_algorithm-2048.md\":\"04cbbdc0\",\"posts_algorithm-template.md\":\"66356d9f\",\"posts_ascii-art.md\":\"ba39325c\",\"posts_calc-demo.md\":\"37a8a0ac\",\"posts_call-cpp-from-python.md\":\"17043ee4\",\"posts_cpp-promise.md\":\"6213bb12\",\"posts_d3-note.md\":\"850b3399\",\"posts_dev-on-windows.md\":\"e38562fd\",\"posts_fix-matplotlib-chinese.md\":\"d5dcd540\",\"posts_indexeddb.md\":\"05d9a877\",\"posts_love2d-require-c-library.md\":\"7859ae49\",\"posts_new-to-arch.md\":\"8f971621\",\"posts_pattern-recognition-note.md\":\"679df8b2\",\"posts_pyside2-quick-start.md\":\"33fc1401\",\"posts_python-opencv.md\":\"cb03e9c3\",\"posts_ripple-animation.md\":\"7ea0bb74\",\"posts_rust-list-slice.md\":\"e32d5a9a\",\"posts_tensorflow-note.md\":\"d08529d2\",\"posts_tetris-field-compress.md\":\"c38171d9\",\"posts_write-code-from-answer.md\":\"0d0aab94\",\"posts_xjb-utils.md\":\"9a19991a\",\"readme.md\":\"f5694df8\",\"tags_index.md\":\"38d7e6ea\"}")</script>
    <script type="module" async src="/assets/app.f415e47c.js"></script>
    
  </body>
</html>